Skip to content
Chat history



Today
Yesterday
Previous 7 Days
Previous 30 Days
You said:
–ø–ª–∞—Ç–µ–∂–∫–∞ –¥–ª—è –±–æ—Ç–∞
ChatGPT said:
–ü—Ä–∏–≤–æ–∂—É —à–∞–±–ª–æ–Ω –ø—Ä–æ—Å—Ç–æ–π –ø–ª–∞—Ç–µ–∂–∫–∏ (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –æ–ø–ª–∞—Ç–µ) –¥–ª—è Telegram-–±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –≤ —Å–æ–æ–±—â–µ–Ω–∏–µ, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–û–ü–õ–ê–¢–ò–¢–¨":

üí≥ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ–ø–ª–∞—Ç–µ

–î–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–∞, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –¥–æ–Ω–∞—Ç –æ—Ç $0.15 (–∏–ª–∏ –≤ –≤–∞—à–µ–π –≤–∞–ª—é—Ç–µ) –ø–æ —Å—Å—ã–ª–∫–µ:

üëâ [donationalerts.com/r/–í–ê–®_–Æ–ó–ï–†–ù–ï–ô–ú](https://

You said:
–≤ –æ–±—â–µ–º —Ç—ã –≤—Å–µ –∑–∞–±—ã–ª, –º—ã —É–∂–µ —Å–¥–µ–ª–∞–ª–∏ –±–æ—Ç —Å –ø–ª–∞—Ç–µ–∂–∫–æ–π –≤ DA, –Ω–æ –Ω–µ —Å–º–æ–≥–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é, —Ç–µ–ø–µ—Ä—å –ø—Ä–µ–¥–ª–∞–≥–∞—é —Å–µ—Ä–≤–∏—Å youmoney, –Ω—É–∂–Ω–æ —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–∏–¥–µ–ª –º–∞—Ç–µ—Ä–∏–∞–ª –Ω–∞–∂–∞–ª –û–ü–õ–ê–¢–ò–¢–¨, –≤—ã–ø–æ–ª–Ω–∏–ª –¥–µ–π—Å—Ç–≤–∏—è –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –Ω–∞–∂–∞–ª –∫–Ω–æ–ø–∫—É –Ø –û–ü–õ–ê–¢–ò–õ –∏ –±–æ—Ç –ø—Ä–æ–≤–µ—Ä–∏–ª —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å —Ç–æ –≤—ã–¥–∞–ª —Å—Å—ã–ª–∫—É
ChatGPT said:
Memory updated
–û—Ç–ª–∏—á–Ω–æ, —Å YouMoney –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å. –í–æ—Ç –∫–∞–∫ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ª–æ–≥–∏–∫–∞:

üîÅ –°—Ü–µ–Ω–∞—Ä–∏–π Telegram-–±–æ—Ç–∞ —Å YouMoney
–ü–æ–∫–∞–∑ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ ‚Üí –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ + –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–π —Å–∫—Ä–∏–Ω.

–ö–Ω–æ–ø–∫–∞ "–û–ü–õ–ê–¢–ò–¢–¨" ‚Üí –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∫–≤–∏–∑–∏—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä: –Ω–æ–º–µ—Ä Kaspi, —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ–ø–ª–∞—Ç—É —á–µ—Ä–µ–∑ YouMoney, QR-–∫–æ–¥ –∏ —Ç.–¥.).

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–≤–æ–¥–∏—Ç ‚Üí –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "‚úÖ –Ø –æ–ø–ª–∞—Ç–∏–ª".

–ë–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã –Ω–∞ YouMoney —á–µ—Ä–µ–∑ API:

–ø–æ —Å—É–º–º–µ (–º–∏–Ω–∏–º—É–º $0.15 –∏–ª–∏ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç),

–ø–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, username Telegram),

–ø–æ –≤—Ä–µ–º–µ–Ω–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –º–∏–Ω—É—Ç).

–ï—Å–ª–∏ –ø–ª–∞—Ç—ë–∂ –Ω–∞–π–¥–µ–Ω ‚Äî –±–æ—Ç –≤—ã–¥–∞—ë—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª –∏–ª–∏ –¥–µ–ª–∞–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç.

–•–æ—á–µ—à—å, —á—Ç–æ–±—ã —è —Å—Ä–∞–∑—É –ø–µ—Ä–µ–ø–∏—Å–∞–ª main.py –ø–æ–¥ —ç—Ç–æ? –ù—É–∂–Ω–æ:

–¢–≤–æ–π API-–∫–ª—é—á –æ—Ç YouMoney;

–ö–∞–∫–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–æ–ª–∂–µ–Ω —É–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–≤–æ–π username –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–µ—Ä–µ–≤–æ–¥—É).

–ì–æ—Ç–æ–≤?

You said:
–¥–∞ 
ChatGPT said:
–û—Ç–ª–∏—á–Ω–æ! –¢–æ–≥–¥–∞ –≤–æ—Ç, —á—Ç–æ –º–Ω–µ –Ω—É–∂–Ω–æ –æ—Ç —Ç–µ–±—è:

üßæ –ß—Ç–æ–±—ã –≤—Å—ë —Å—Ä–∞–∑—É –∑–∞—Ä–∞–±–æ—Ç–∞–ª–æ:
API-–∫–ª—é—á YouMoney (–º–æ–∂–µ—à—å –∑–∞–º–µ–Ω–∏—Ç—å –µ–≥–æ –Ω–∞ your_api_key ‚Äî —è –≤—Å—Ç–∞–≤–ª—é –∑–∞–≥–ª—É—à–∫—É, —Ç—ã –ø–æ—Ç–æ–º –ø–æ–¥—Å—Ç–∞–≤–∏—à—å –Ω–∞—Å—Ç–æ—è—â–∏–π).

–ù–æ–º–µ—Ä –∫–æ—à–µ–ª—å–∫–∞ YouMoney (–∏–ª–∏ ID, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è OAuth).

–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ–º:

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—É–¥–µ—Ç –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–µ—Ä–µ–≤–æ–¥—É —É–∫–∞–∑—ã–≤–∞—Ç—å —Å–≤–æ–π username Telegram?

–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ ‚Äî $0.15 (–º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –≤ —Ç–µ–Ω–≥–µ/—Ä—É–±–ª—è—Ö, –µ—Å–ª–∏ —Ö–æ—á–µ—à—å)?

–°—Å—ã–ª–∫–∞, –∫–æ—Ç–æ—Ä—É—é –±–æ—Ç –¥–æ–ª–∂–µ–Ω –≤—ã–¥–∞—Ç—å –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã (Google Drive –∏ —Ç.–¥.).

–ö–∞–∫ —Ç–æ–ª—å–∫–æ –¥–∞—à—å —ç—Ç–æ ‚Äî —è —Å—Ä–∞–∑—É –ø–µ—Ä–µ–ø–∏—à—É main.py —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ API YouMoney.

You said:
–∞ –∫–∞–∫ –Ω–∞–π—Ç–∏ api 
ChatGPT said:
–°–º–æ—Ç—Ä–∏, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å API-–¥–æ—Å—Ç—É–ø –∫ YouMoney (ex-–ÆMoney, –±—ã–≤—à–∞—è –Ø–Ω–¥–µ–∫—Å.–î–µ–Ω—å–≥–∏), –Ω—É–∂–Ω–æ:

üîê –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å API-–∫–ª—é—á YouMoney:
üìå 1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è –∏–ª–∏ –≤–æ–π–¥–∏:
–ü–µ—Ä–µ–π–¥–∏ –Ω–∞ https://yoomoney.ru –∏ –≤–æ–π–¥–∏ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç.

üìå 2. –ü–µ—Ä–µ–π–¥–∏ –≤ —Ä–∞–∑–¥–µ–ª –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
üëâ https://yoomoney.ru/myservices/new

–≠—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ API.

üìå 3. –ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É:
–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: –ª—é–±–æ–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Telegram Bot).

–û–ø–∏—Å–∞–Ω–∏–µ: –º–æ–∂–µ—à—å —É–∫–∞–∑–∞—Ç—å –ë–æ—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π.

Callback URL: –º–æ–∂–Ω–æ –ø–æ–∫–∞ –≤–ø–∏—Å–∞—Ç—å https://example.com ‚Äî –º—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ.

Redirect URI: —Ç–æ–∂–µ https://example.com (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º OAuth ‚Äî –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ).

–í—ã–±–µ—Ä–∏ –Ω—É–∂–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:

account-info

operation-history

operation-details

üìå 4. –°–æ—Ö—Ä–∞–Ω–∏ –∏ –ø–æ–ª—É—á–∏ OAuth-—Ç–æ–∫–µ–Ω:
–ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ç–µ–±–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç OAuth-—Ç–æ–∫–µ–Ω ‚Äî —ç—Ç–æ –∏ –µ—Å—Ç—å —Ç–≤–æ–π API-–∫–ª—é—á.

‚ÄºÔ∏è –í–∞–∂–Ω–æ: –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–±—è –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∫–∏–Ω—É—Ç—å –Ω–∞ —Å—Å—ã–ª–∫—É –≤–∏–¥–∞

https://yoomoney.ru/oauth/authorize?response_type=token&client_id=–í–ê–®_ID&scope=...
–¢—ã –ø—Ä–æ—Å—Ç–æ –∞–≤—Ç–æ—Ä–∏–∑—É–µ—à—å—Å—è –∏ –ø–æ–ª—É—á–∞–µ—à—å —Ç–æ–∫–µ–Ω –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –±—Ä–∞—É–∑–µ—Ä–∞ ‚Äî –æ–Ω –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

access_token=41001xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
–°–∫–æ–ø–∏—Ä—É–π –µ–≥–æ ‚Äî —ç—Ç–æ –∏ –µ—Å—Ç—å –∫–ª—é—á.

üí° –ï—Å–ª–∏ —Ö–æ—á–µ—à—å, —è –º–æ–≥—É –ø–æ—à–∞–≥–æ–≤–æ –ø—Ä–æ–≤–µ—Å—Ç–∏ —Ç–µ–±—è —á–µ—Ä–µ–∑ –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –≤–∂–∏–≤—É—é. –¢–æ–ª—å–∫–æ —Å–∫–∞–∂–∏.
–ê –∫–∞–∫ –ø–æ–ª—É—á–∏—à—å –∫–ª—é—á ‚Äî –ø–∏—à–∏ —Å—é–¥–∞, —è —Å—Ä–∞–∑—É –≤—Å—Ç–∞–≤–ª—é –≤ main.py.

You said:
Uploaded image
ChatGPT said:
–û—Ç–ª–∏—á–Ω–æ, —Ç—ã –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ! –í–æ—Ç —á—Ç–æ –Ω—É–∂–Ω–æ –≤–ø–∏—Å–∞—Ç—å, —á—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–π—Ç–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é:

‚úçÔ∏è –ß—Ç–æ –≤–≤–µ—Å—Ç–∏ –≤ –ø–æ–ª—è:
–ù–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
telegram donats ‚Äî –æ—Å—Ç–∞–≤—å, –∫–∞–∫ –µ—Å—Ç—å.

–ê–¥—Ä–µ—Å —Å–∞–π—Ç–∞:
üëâ –í–ø–∏—à–∏ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ http://example.com ‚Äî —ç—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω, –Ω–æ –æ–Ω –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –µ—Å–ª–∏ —Ç–µ–±–µ –Ω–µ –Ω—É–∂–µ–Ω —Ä–µ–¥–∏—Ä–µ–∫—Ç.

–ü–æ—á—Ç–∞ –¥–ª—è —Å–≤—è–∑–∏:
–í–ø–∏—à–∏ —Å–≤–æ—é —Ä–∞–±–æ—á—É—é –∏–ª–∏ –ª—é–±—É—é –∞–∫—Ç–∏–≤–Ω—É—é –ø–æ—á—Ç—É.

Redirect URI:
–í–ø–∏—à–∏ —Ç–æ–∂–µ http://example.com.

Notification URI:
–ú–æ–∂–Ω–æ —Ç–æ–∂–µ http://example.com –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º.

–õ–æ–≥–æ—Ç–∏–ø:
–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å.

–ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã —Ç—ã –ø–æ–ª—É—á–∏—à—å client_id, –∞ –∑–∞—Ç–µ–º –ø—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ ‚Äî OAuth —Ç–æ–∫–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

41001xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
üîê –≠—Ç–æ—Ç —Ç–æ–∫–µ–Ω —Ç—ã –ø–æ—Ç–æ–º –≤—Å—Ç–∞–≤–∏—à—å –≤ –∫–æ–¥ –∫–∞–∫ access_token.

–ö–æ–≥–¥–∞ –ø–æ–ª—É—á–∏—à—å —Ç–æ–∫–µ–Ω ‚Äî —Å–∫–∏–Ω—å –µ–≥–æ (–º–æ–∂–Ω–æ —Å –º–∞—Å–∫–∏—Ä–æ–≤–∫–æ–π, —è –ø–æ–¥—Å—Ç–∞–≤–ª—é –∑–∞–≥–ª—É—à–∫—É), –∏ —è —Å—Ä–∞–∑—É –ø–µ—Ä–µ–ø–∏—à—É main.py –ø–æ–¥ YouMoney.
–ì–æ—Ç–æ–≤ –∏–¥—Ç–∏ –¥–∞–ª—å—à–µ?

You said:
06A3B002CB441ECF28EAFAF2446280A50094CF624E09C237138B7D653C37CE61
ChatGPT said:
–û—Ç–ª–∏—á–Ω–æ! –£ –Ω–∞—Å —Ç–µ–ø–µ—Ä—å –µ—Å—Ç—å —Ç–æ–∫–µ–Ω, —è –≤—Å—Ç–∞–≤–ª—é –µ–≥–æ –∫–∞–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é YOUMONEY_TOKEN –∏ –Ω–∞–ø–∏—à—É –≤–µ—Å—å main.py —Å —É—á—ë—Ç–æ–º —Å–ª–µ–¥—É—é—â–µ–π –ª–æ–≥–∏–∫–∏:

üì≤ –õ–æ–≥–∏–∫–∞ Telegram-–±–æ—Ç–∞:
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª (—Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º).

–ö–Ω–æ–ø–∫–∞ "–û–ü–õ–ê–¢–ò–¢–¨" ‚Üí –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ–∫–≤–∏–∑–∏—Ç—ã.

–ü–µ—Ä–µ–≤–æ–¥–∏—Ç –¥–µ–Ω—å–≥–∏ –Ω–∞ –∫–æ—à–µ–ª—ë–∫ YouMoney (—Å username –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏).

–ù–∞–∂–∏–º–∞–µ—Ç "‚úÖ –Ø –û–ü–õ–ê–¢–ò–õ".

–ë–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ –≤—Ö–æ–¥—è—â–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã:

–ú–∏–Ω–∏–º—É–º 0.15 USD;

–í –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ ‚Äî –µ–≥–æ username.

–ï—Å–ª–∏ —Å–æ–≤–ø–∞–ª–æ ‚Üí –±–æ—Ç –≤—ã–¥–∞—ë—Ç —Å—Å—ã–ª–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ Google Drive).

–°–µ–π—á–∞—Å –Ω–∞–ø–∏—à—É –∏ —Å–∫–∏–Ω—É –≥–æ—Ç–æ–≤—ã–π main.py.

–í–æ—Ç –≥–æ—Ç–æ–≤—ã–π main.py, –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–Ω—ã–π –ø–æ–¥ YouMoney:

import os
import time
import requests
from flask import Flask, request
from telegram import InlineKeyboardButton, InlineKeyboardMarkup, Bot
from telegram.ext import Dispatcher, CommandHandler, CallbackQueryHandler

TOKEN = "YOUR_TELEGRAM_BOT_TOKEN"
YOUMONEY_TOKEN = "06A3B002CB441ECF28EAFAF2446280A50094CF624E09C237138B7D653C37CE61"
YOUMONEY_API = "https://yoomoney.ru/api/operation-history"
MIN_AMOUNT = 0.15  # –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –≤ USD
MATERIAL_LINK = "https://your-google-drive-link.com"  # —Å—Å—ã–ª–∫–∞ –Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª

bot = Bot(token=TOKEN)
app = Flask(__name__)
dispatcher = Dispatcher(bot, None, workers=0, use_context=True)

# –ö–Ω–æ–ø–∫–∏
def get_main_keyboard():
    return InlineKeyboardMarkup([
        [InlineKeyboardButton("üí≥ –û–ü–õ–ê–¢–ò–¢–¨", callback_data='pay')],
        [InlineKeyboardButton("‚úÖ –Ø –û–ü–õ–ê–¢–ò–õ", callback_data='check_payment')]
    ])

# –ö–æ–º–∞–Ω–¥–∞ /start
def start(update, context):
    username = update.effective_user.username or "–±–µ–∑ username"
    text = f"""üî• –ú–∞—Ç–µ—Ä–∏–∞–ª: AI-–¥–µ–≤—É—à–∫–∞ 2.0

–ü—Ä–∏ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–∞—Ö ~30 –º–∏–Ω –≤ –¥–µ–Ω—å.

–í–ª–æ–∂–µ–Ω–∏–µ: <b>–æ—Ç $0.15</b> —á–µ—Ä–µ–∑ YouMoney. 
–í –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–µ—Ä–µ–≤–æ–¥—É —É–∫–∞–∂–∏—Ç–µ –≤–∞—à username: <code>{username}</code>.

–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "‚úÖ –Ø –û–ü–õ–ê–¢–ò–õ".
"""
    with open("kaspi.jpg", "rb") as photo:
        context.bot.send_photo(chat_id=update.effective_chat.id, photo=photo, caption=text, parse_mode="HTML", reply_markup=get_main_keyboard())

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–æ–∫
def button_handler(update, context):
    query = update.callback_query
    query.answer()
    user_id = query.from_user.id
    username = query.from_user.username or ""

    if query.data == "pay":
        text = f"""üí≥ –ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ –æ—Ç $0.15 –Ω–∞ YouMoney:

üëâ –ù–æ–º–µ—Ä: <code>41001123456789</code>  
‚ùóÔ∏è–í –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —É–∫–∞–∂–∏—Ç–µ –≤–∞—à username: <b>{username}</b>  

–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –Ω–∞–∂–º–∏—Ç–µ "‚úÖ –Ø –û–ü–õ–ê–¢–ò–õ"
"""
        bot.send_message(chat_id=user_id, text=text, parse_mode="HTML", reply_markup=get_main_keyboard())

    elif query.data == "check_payment":
        if check_yoomoney_payment(username):
            bot.send_message(chat_id=user_id, text="‚úÖ –ü–ª–∞—Ç—ë–∂ –Ω–∞–π–¥–µ–Ω! –í–æ—Ç –≤–∞—à–∞ —Å—Å—ã–ª–∫–∞:\n" + MATERIAL_LINK)
        else:
            bot.send_message(chat_id=user_id, text="‚ùå –ü–ª–∞—Ç—ë–∂ –Ω–µ –Ω–∞–π–¥–µ–Ω. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É–∫–∞–∑–∞–ª–∏ username –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ —Å—É–º–º–∞ –Ω–µ –Ω–∏–∂–µ $0.15.")

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π YouMoney
def check_yoomoney_payment(username):
    headers = {"Authorization": f"Bearer {YOUMONEY_TOKEN}"}
    data = {
        "type": "deposition",
        "records": 20,
    }

    response = requests.post(YOUMONEY_API, headers=headers, data=data)
    if response.status_code != 200:
        return False

    operations = response.json().get("operations", [])
    now = time.time()

    for op in operations:
        if (
            float(op.get("amount", 0)) >= MIN_AMOUNT
            and username.lower() in (op.get("message", "")).lower()
            and abs(now - parse_time(op.get("datetime", ""))) < 900  # –ø–æ—Å–ª–µ–¥–Ω–∏–µ 15 –º–∏–Ω—É—Ç
        ):
            return True
    return False

def parse_time(iso_time_str):
    from datetime import datetime
    dt = datetime.fromisoformat(iso_time_str.replace("Z", "+00:00"))
    return dt.timestamp()

# Flask —Ö—É–∫
@app.route(f"/{TOKEN}", methods=["POST"])
def webhook():
    update = request.get_json(force=True)
    dispatcher.process_update(telegram.Update.de_json(update, bot))
    return "ok"

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ö–µ–Ω–¥–ª–µ—Ä–æ–≤
dispatcher.add_handler(CommandHandler("start", start))
dispatcher.add_handler(CallbackQueryHandler(button_handler))

# –ó–∞–ø—É—Å–∫
if __name__ == "__main__":
    app.run(host="0.0.0.0", port=int(os.environ.get("PORT", 5000)))
üìå –ß—Ç–æ —Ç–µ–±–µ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:
–ó–∞–º–µ–Ω–∏—Ç—å:

YOUR_TELEGRAM_BOT_TOKEN ‚Äî –Ω–∞ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞;

41001123456789 ‚Äî –Ω–∞ –Ω–æ–º–µ—Ä —Ç–≤–æ–µ–≥–æ –∫–æ—à–µ–ª—å–∫–∞ YouMoney;

https://your-google-drive-link.com ‚Äî –Ω–∞ —Å—Å—ã–ª–∫—É –Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª;

–ü–æ–¥–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª kaspi.jpg –≤ —Ç—É –∂–µ –ø–∞–ø–∫—É.

–ó–∞–¥–µ–ø–ª–æ–π –Ω–∞ Render –∏–ª–∏ –ª—é–±–æ–π —Å–µ—Ä–≤–µ—Ä, –∫–∞–∫ —Ä–∞–Ω—å—à–µ.

–•–æ—á–µ—à—å, —á—Ç–æ–±—ã —è –µ—â—ë –¥–æ–±–∞–≤–∏–ª –ª–æ–≥ –æ—Ç–ø—Ä–∞–≤–∫–∏ (–¥–ª—è –ª–æ–≥–æ–≤ –≤ —Ñ–∞–π–ª) –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –æ–¥–Ω–æ–º—É –¥–æ—Å—Ç—É–ø—É –Ω–∞ username?

You said:
Uploaded image
–º—ã –æ—Ç–∫–∞–∑–∞–ª–∏—Å—å –æ—Ç —Ñ–ª–∞—Å–∫–∞ —è —Å–∫–∏–Ω—É —Ç–µ–±–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π main.py
ChatGPT said:
–û—Ç–ª–∏—á–Ω–æ, –ø–æ–Ω—è–ª ‚Äî Flask –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º. –ñ–¥—É –æ—Ç —Ç–µ–±—è –∞–∫—Ç—É–∞–ª—å–Ω—ã–π main.py, —á—Ç–æ–±—ã –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –ø–æ–¥ YouMoney –∏ –≤—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø–ª–∞—Ç–µ–∂–µ–π –ø–æ—Å–ª–µ –∫–Ω–æ–ø–∫–∏ "‚úÖ –Ø –û–ü–õ–ê–¢–ò–õ".

–ö–æ–≥–¥–∞ –±—É–¥–µ—à—å –≥–æ—Ç–æ–≤ ‚Äî —Å–∫–∏–Ω—å —Ñ–∞–π–ª, —è –ø–µ—Ä–µ–ø–∏—à—É –≤–µ—Å—å –∫–æ–¥ –ø–æ–¥ –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ –∏ —Ñ—É–Ω–∫—Ü–∏–π.

You said:
import logging
import os
import requests
from flask import Flask, request
from telegram import Bot, Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import Dispatcher, CommandHandler, CallbackQueryHandler
from apscheduler.schedulers.background import BackgroundScheduler
from pytz import utc

# –ü–æ–ª—É—á–∞–µ–º —Ç–æ–∫–µ–Ω—ã –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
TELEGRAM_TOKEN = os.environ.get("TOKEN")
DA_SECRET = os.environ.get("DA_SECRET")

if not TELEGRAM_TOKEN or not DA_SECRET:
    raise ValueError("‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç TELEGRAM TOKEN –∏–ª–∏ DA SECRET")

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞
app = Flask(__name__)
bot = Bot(token=TELEGRAM_TOKEN)
dispatcher = Dispatcher(bot, update_queue=None, use_context=True)
logging.basicConfig(level=logging.INFO)

# –î–∞–Ω–Ω—ã–µ
donations = []
MIN_AMOUNT = 0.15
CONTENT_LINK = "https://drive.google.com/drive/folders/18OEeQ4QhgHEDWac1RJz0PY8EoJVZbGH_?usp=drive_link"
DA_EXPECTED_CURRENCY = "USD"

@app.route("/")
def home():
    return "‚úÖ –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç!"

@app.route("/webhook", methods=["POST"])
def webhook():
    data = request.json
    headers = request.headers

    if headers.get("Authorization") != f"Bearer {DA_SECRET}":
        return "Unauthorized", 403

    if data and 'username' in data and 'amount' in data:
        username = data['username'].lstrip('@').lower()
        amount = float(data['amount'])
        currency = data.get("currency", "").upper()

        if currency == DA_EXPECTED_CURRENCY:
            donations.append({'username': username, 'amount': amount})
            logging.info(f"üí∏ –ù–æ–≤—ã–π –¥–æ–Ω–∞—Ç: {username} ‚Äî {amount} {currency}")

    return "OK", 200

def start(update, context):
    user = update.message.from_user
    keyboard = [
        [InlineKeyboardButton("üíµ –û–ü–õ–ê–¢–ò–¢–¨", url="https://www.donationalerts.com/r/archive_unlock?v=2")],
        [InlineKeyboardButton("‚úÖ –Ø –æ–ø–ª–∞—Ç–∏–ª", callback_data="check_payment")]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)

    message = (
        "üí∏ –í—ã–≤–æ–¥ –∑–∞ –Ω–µ–¥–µ–ª—é ‚Äî $1 250\n"
        "–ë–µ–∑ –ª–∏—Ü–∞.\n"
        "–ë–µ–∑ –ø—É–±–ª–∏—á–Ω–æ—Å—Ç–∏.\n"
        "–ü—Ä–∏ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–∞—Ö ~30 –º–∏–Ω –≤ –¥–µ–Ω—å.\n"
    )
    update.message.reply_text(message)

    with open("kaspi.jpg", "rb") as photo:
        bot.send_photo(chat_id=update.message.chat_id, photo=photo)

    after_image = (
        "\n–û–¥–∏–Ω –æ–±—Ä–∞–∑.\n"
        "–ß—ë—Ç–∫–∞—è –ø–æ–¥–∞—á–∞.\n"
        "–ò —Å–∏—Å—Ç–µ–º–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –∫–∞–∂–¥—ã–π —à–∞–≥ —É–∂–µ —Ä–∞—Å–ø–∏—Å–∞–Ω.\n\n"
        "–¢—ã —Å–æ–∑–¥–∞—ë—à—å –º–æ–¥–µ–ª—å,\n"
        "–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—à—å –≤–∏–∑—É–∞–ª,\n"
        "–æ—Ç–≤–µ—á–∞–µ—à—å –ø–æ –≥–æ—Ç–æ–≤—ã–º —à–∞–±–ª–æ–Ω–∞–º\n"
        "‚Äî –∏ –º–æ–Ω–µ—Ç–∏–∑–∏—Ä—É–µ—à—å –≤–Ω–∏–º–∞–Ω–∏–µ.\n\n"
        "üìå –≠—Ç–æ –∏ –µ—Å—Ç—å AI Girl 2.0\n\n"
        "ü§ñ AI Girl 2.0 ‚Äî —Å–≤—è–∑–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–æ—Å–∏—Ç –¥–µ–Ω—å–≥–∏\n"
        "–≠—Ç–æ –ø–æ—à–∞–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞:\n"
        "üë© –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏\n"
        "üì∏ AI-–æ–±—Ä–∞–∑—ã –∏ –ø–æ–¥–∞—á–∞\n"
        "üí∏ –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ–Ω–∞—Ç–æ–≤\n\n"
        "–¢—ã –ø–æ–ª—É—á–∞–µ—à—å:\n"
        "‚Ä¢ –ü–æ–ª–Ω—ã–π –ø–ª–∞–Ω –∑–∞–ø—É—Å–∫–∞\n"
        "‚Ä¢ –í—Å–µ –Ω—É–∂–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã\n"
        "‚Ä¢ –®–∞–±–ª–æ–Ω—ã –æ–±—â–µ–Ω–∏—è\n"
        "‚Ä¢ –°–ø–æ—Å–æ–± –ø—Ä–∏—ë–º–∞ –æ–ø–ª–∞—Ç—ã\n\n"
        "–í—Å—ë —É–∂–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ. –ü—Ä–æ—Å—Ç–æ –¥–µ–π—Å—Ç–≤—É–π –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.\n\n"
        f"üíµ –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø:\n"
        f"–ó–∞–∫—Ä—ã—Ç—ã–π –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ ‚Äî ${MIN_AMOUNT}\n\n"
        "1‚É£ –ù–∞–∂–º–∏ [–û–ü–õ–ê–¢–ò–¢–¨] –∏ —Å–¥–µ–ª–∞–π –ø–µ—Ä–µ–≤–æ–¥\n"
        "2‚É£ –í –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —É–∫–∞–∂–∏ —Å–≤–æ–π @username –≤ –¢–µ–ª–µ–≥—Ä–∞–º–µ\n"
        "3‚É£ –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –Ω–∞–∂–º–∏ [‚úÖ –Ø –æ–ø–ª–∞—Ç–∏–ª]\n"
        "4‚É£ –ü–æ–ª—É—á–∏ —Å—Å—ã–ª–∫—É –Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª"
    )

    update.message.reply_text(after_image, reply_markup=reply_markup)

def check_payment(update, context):
    query = update.callback_query
    user = query.from_user
    username = user.username.lower() if user.username else ""

    for donation in donations:
        if username in donation['username'] and donation['amount'] >= MIN_AMOUNT:
            query.message.reply_text(f"üéâ –°–ø–∞—Å–∏–±–æ! –í–æ—Ç —Å—Å—ã–ª–∫–∞: {CONTENT_LINK}")
            return

    query.message.reply_text("‚ùå –î–æ–Ω–∞—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω. –£–∫–∞–∂–∏ @username –∏ —Å—É–º–º—É –æ—Ç $0.15.")

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
dispatcher.add_handler(CommandHandler("start", start))
dispatcher.add_handler(CallbackQueryHandler(check_payment))

@app.route(f"/{TELEGRAM_TOKEN}", methods=["POST"])
def telegram_webhook():
    update = Update.de_json(request.get_json(force=True), bot)
    dispatcher.process_update(update)
    return "OK", 200

def clear_donations():
    donations.clear()
    logging.info("üßπ –î–æ–Ω–∞—Ç—ã –æ—á–∏—â–µ–Ω—ã")

scheduler = BackgroundScheduler(timezone=utc)
scheduler.add_job(clear_donations, "interval", hours=12)
scheduler.start()

if __name__ == "__main__":
    app.run(host="0.0.0.0", port=10000)
ChatGPT said:
Memory updated
–û—Ç–ª–∏—á–Ω–æ! –¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ–ø–∏—à—É —Ç–≤–æ–π main.py –ø–æ–¥ YouMoney, —É–±—Ä–∞–≤ –ª–æ–≥–∏–∫—É —Å DonationAlerts (DA_SECRET –∏ —Ç.–¥.) –∏ –∑–∞–º–µ–Ω–∏–≤ –µ—ë –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —á–µ—Ä–µ–∑ YouMoney API.

üîß –ß—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—Å—è:
–£–¥–∞–ª–∏–º /webhook –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–∏–º –≤–µ—â–∏.

–í–º–µ—Å—Ç–æ donations[] –±–æ—Ç –±—É–¥–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ API YouMoney –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ "‚úÖ –Ø –æ–ø–ª–∞—Ç–∏–ª".

Username –±—É–¥–µ—Ç —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å—Å—è —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º –∫ –ø–µ—Ä–µ–≤–æ–¥—É.

–í–∞–ª—é—Ç–∞ ‚Äî USD, –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ ‚Äî $0.15.

–°–µ–π—á–∞—Å –ø–µ—Ä–µ–ø–∏—à—É –∏ –ø—Ä–∏—à–ª—é –≥–æ—Ç–æ–≤—ã–π main.py.

–í–æ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π main.py, –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥ YouMoney (–≤–º–µ—Å—Ç–æ DonationAlerts):

import logging
import os
import requests
from flask import Flask, request
from telegram import Bot, Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import Dispatcher, CommandHandler, CallbackQueryHandler
from apscheduler.schedulers.background import BackgroundScheduler
from pytz import utc
from datetime import datetime

# –¢–æ–∫–µ–Ω—ã –∏ –∫–ª—é—á–∏
TELEGRAM_TOKEN = os.environ.get("TOKEN")
YOUMONEY_TOKEN = os.environ.get("YOUMONEY_TOKEN")  # —Ç–µ–ø–µ—Ä—å –∫–ª—é—á –æ—Ç YouMoney

if not TELEGRAM_TOKEN or not YOUMONEY_TOKEN:
    raise ValueError("‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç TELEGRAM_TOKEN –∏–ª–∏ YOUMONEY_TOKEN")

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞
app = Flask(__name__)
bot = Bot(token=TELEGRAM_TOKEN)
dispatcher = Dispatcher(bot, update_queue=None, use_context=True)
logging.basicConfig(level=logging.INFO)

# –î–∞–Ω–Ω—ã–µ
MIN_AMOUNT = 0.15
CONTENT_LINK = "https://drive.google.com/drive/folders/18OEeQ4QhgHEDWac1RJz0PY8EoJVZbGH_?usp=drive_link"

@app.route("/")
def home():
    return "‚úÖ –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç!"

@app.route(f"/{TELEGRAM_TOKEN}", methods=["POST"])
def telegram_webhook():
    update = Update.de_json(request.get_json(force=True), bot)
    dispatcher.process_update(update)
    return "OK", 200

# –°—Ç–∞—Ä—Ç
def start(update, context):
    user = update.message.from_user
    keyboard = [
        [InlineKeyboardButton("üíµ –û–ü–õ–ê–¢–ò–¢–¨", url="https://yoomoney.ru/to/41001123456789")],  # –∑–∞–º–µ–Ω–∏ –Ω–∞ —Å–≤–æ–π –∫–æ—à–µ–ª—ë–∫
        [InlineKeyboardButton("‚úÖ –Ø –æ–ø–ª–∞—Ç–∏–ª", callback_data="check_payment")]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)

    message = (
        "üí∏ –í—ã–≤–æ–¥ –∑–∞ –Ω–µ–¥–µ–ª—é ‚Äî $1 250\n"
        "–ë–µ–∑ –ª–∏—Ü–∞.\n"
        "–ë–µ–∑ –ø—É–±–ª–∏—á–Ω–æ—Å—Ç–∏.\n"
        "–ü—Ä–∏ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–∞—Ö ~30 –º–∏–Ω –≤ –¥–µ–Ω—å.\n"
    )
    update.message.reply_text(message)

    with open("kaspi.jpg", "rb") as photo:
        bot.send_photo(chat_id=update.message.chat_id, photo=photo)

    after_image = (
        "\n–û–¥–∏–Ω –æ–±—Ä–∞–∑.\n"
        "–ß—ë—Ç–∫–∞—è –ø–æ–¥–∞—á–∞.\n"
        "–ò —Å–∏—Å—Ç–µ–º–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –∫–∞–∂–¥—ã–π —à–∞–≥ —É–∂–µ —Ä–∞—Å–ø–∏—Å–∞–Ω.\n\n"
        "–¢—ã —Å–æ–∑–¥–∞—ë—à—å –º–æ–¥–µ–ª—å,\n"
        "–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—à—å –≤–∏–∑—É–∞–ª,\n"
        "–æ—Ç–≤–µ—á–∞–µ—à—å –ø–æ –≥–æ—Ç–æ–≤—ã–º —à–∞–±–ª–æ–Ω–∞–º\n"
        "‚Äî –∏ –º–æ–Ω–µ—Ç–∏–∑–∏—Ä—É–µ—à—å –≤–Ω–∏–º–∞–Ω–∏–µ.\n\n"
        "üìå –≠—Ç–æ –∏ –µ—Å—Ç—å AI Girl 2.0\n\n"
        "ü§ñ AI Girl 2.0 ‚Äî —Å–≤—è–∑–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–æ—Å–∏—Ç –¥–µ–Ω—å–≥–∏\n"
        "–≠—Ç–æ –ø–æ—à–∞–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞:\n"
        "üë© –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏\n"
        "üì∏ AI-–æ–±—Ä–∞–∑—ã –∏ –ø–æ–¥–∞—á–∞\n"
        "üí∏ –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ–Ω–∞—Ç–æ–≤\n\n"
        "–¢—ã –ø–æ–ª—É—á–∞–µ—à—å:\n"
        "‚Ä¢ –ü–æ–ª–Ω—ã–π –ø–ª–∞–Ω –∑–∞–ø—É—Å–∫–∞\n"
        "‚Ä¢ –í—Å–µ –Ω—É–∂–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã\n"
        "‚Ä¢ –®–∞–±–ª–æ–Ω—ã –æ–±—â–µ–Ω–∏—è\n"
        "‚Ä¢ –°–ø–æ—Å–æ–± –ø—Ä–∏—ë–º–∞ –æ–ø–ª–∞—Ç—ã\n\n"
        "–í—Å—ë —É–∂–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ. –ü—Ä–æ—Å—Ç–æ –¥–µ–π—Å—Ç–≤—É–π –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.\n\n"
        f"üíµ –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø:\n"
        f"–ó–∞–∫—Ä—ã—Ç—ã–π –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ ‚Äî ${MIN_AMOUNT}\n\n"
        "1‚É£ –ù–∞–∂–º–∏ [–û–ü–õ–ê–¢–ò–¢–¨] –∏ —Å–¥–µ–ª–∞–π –ø–µ—Ä–µ–≤–æ–¥\n"
        "2‚É£ –í –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —É–∫–∞–∂–∏ —Å–≤–æ–π @username –≤ –¢–µ–ª–µ–≥—Ä–∞–º–µ\n"
        "3‚É£ –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –Ω–∞–∂–º–∏ [‚úÖ –Ø –æ–ø–ª–∞—Ç–∏–ª]\n"
        "4‚É£ –ü–æ–ª—É—á–∏ —Å—Å—ã–ª–∫—É –Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª"
    )

    update.message.reply_text(after_image, reply_markup=reply_markup)

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ "‚úÖ –Ø –æ–ø–ª–∞—Ç–∏–ª"
def check_payment(update, context):
    query = update.callback_query
    user = query.from_user
    username = user.username.lower() if user.username else ""

    if not username:
        query.message.reply_text("‚ùå –£ –≤–∞—Å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω username. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ–≥–æ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Telegram –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.")
        return

    if verify_yoomoney_payment(username):
        query.message.reply_text(f"üéâ –°–ø–∞—Å–∏–±–æ! –í–æ—Ç —Å—Å—ã–ª–∫–∞ –Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª:\n{CONTENT_LINK}")
    else:
        query.message.reply_text("‚ùå –î–æ–Ω–∞—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–≤–µ–ª–∏ –æ—Ç $0.15 –∏ —É–∫–∞–∑–∞–ª–∏ @username –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏.")

# –ü—Ä–æ–≤–µ—Ä–∫–∞ YouMoney
def verify_yoomoney_payment(username):
    headers = {"Authorization": f"Bearer {YOUMONEY_TOKEN}"}
    data = {
        "type": "deposition",
        "records": 25
    }

    response = requests.post("https://yoomoney.ru/api/operation-history", headers=headers, data=data)
    if response.status_code != 200:
        logging.warning("–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –æ–ø–µ—Ä–∞—Ü–∏–π")
        return False

    operations = response.json().get("operations", [])
    now = datetime.utcnow().timestamp()

    for op in operations:
        amount = float(op.get("amount", 0))
        message = op.get("message", "").lower()
        time_str = op.get("datetime", "")
        time_ts = parse_iso_to_ts(time_str)

        if (
            username in message and
            amount >= MIN_AMOUNT and
            abs(now - time_ts) < 900  # –ø–æ—Å–ª–µ–¥–Ω–∏–µ 15 –º–∏–Ω—É—Ç
        ):
            return True

    return False

def parse_iso_to_ts(iso_str):
    dt = datetime.fromisoformat(iso_str.replace("Z", "+00:00"))
    return dt.timestamp()

# –ü–ª–∞–Ω–æ–≤–æ–µ –æ—á–∏—â–µ–Ω–∏–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
def dummy():
    logging.info("üßπ –ü–ª–∞–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞")

scheduler = BackgroundScheduler(timezone=utc)
scheduler.add_job(dummy, "interval", hours=12)
scheduler.start()

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
dispatcher.add_handler(CommandHandler("start", start))
dispatcher.add_handler(CallbackQueryHandler(check_payment))
üü° –ß—Ç–æ —Ç–µ–±–µ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:
–í .env –∏–ª–∏ Render –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:

TOKEN ‚Äî —Ç–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞;

YOUMONEY_TOKEN ‚Äî —Ç–æ–∫–µ–Ω –æ—Ç YouMoney (–∫–æ—Ç–æ—Ä—ã–π —Ç—ã —É–∂–µ –ø–æ–ª—É—á–∏–ª).

–ó–∞–º–µ–Ω–∏ —Å—Å—ã–ª–∫—É –≤ InlineKeyboardButton("üíµ –û–ü–õ–ê–¢–ò–¢–¨", url="...") –Ω–∞ —Å–≤–æ—é:

https://yoomoney.ru/to/–¢–í–û–ô_–ù–û–ú–ï–†_–ö–û–®–ï–õ–¨–ö–ê
–£–±–µ–¥–∏—Å—å, —á—Ç–æ kaspi.jpg –ª–µ–∂–∏—Ç –≤ –æ–¥–Ω–æ–π –ø–∞–ø–∫–µ —Å main.py.

–ó–∞–ª–µ–π –Ω–∞ Render –∫–∞–∫ —Ä–∞–Ω—å—à–µ, —É —Ç–µ–±—è —É–∂–µ –≤—Å—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ.

–•–æ—á–µ—à—å, —á—Ç–æ–±—ã –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–ª —Å–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –ø–æ–ª—É—á–∞–ª –¥–æ—Å—Ç—É–ø —Ä–∞–Ω–µ–µ (–ø–æ –ø–∞–º—è—Ç–∏)?








ChatGPT can make mistakes. Check important info.
?
